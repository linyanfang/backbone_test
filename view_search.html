<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>view serach test</title>
	<script src="js/jquery.js"></script>
	<script src="js/underscore.js"></script>
	<script src="js/backbone.js"></script>
</head>
<body>
<div id="search_container"></div>

<script type="text/template" id="search_template">
	<label><%= search_label %></label>
	<input type="text" id="search_input"/>
	<input type="button" id="search_botton" value="Search"/>
	
</script>

<script type="text/javascript">


(function($){

var SearchView = Backbone.View.extend({
	el: "#search_container",

	initialize: function(){
		//alert('init a SearchView');
		this.render({search_label: "搜索按钮"});
		//var labels = ['label1', 'label2', 'label3'];
		//this.render({labels: labels});
	},

	render: function(context){
		//使用underscore这个库来编译模块
		var template = _.template($("#search_template").html());
		//加载这个模块到对应的el属性中
		$(this.el).html(template(context));
	},

	events: {
		'click input[type=button]': 'doSearch'
	},

	doSearch: function(event){
		alert("search for " + $("#search_input").val());
	}
});

//var searchView = new SearchView({el: $("#search_container")});
//模板中定义的所有变量在render的时候要传进去
//searchView.render({search_label: "搜索渲染"});

var searchView = new SearchView();
	
})(jQuery);	
</script>
	
</body>
</html>